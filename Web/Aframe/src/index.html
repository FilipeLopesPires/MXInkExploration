<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>A-Frame AR Passthrough</title>
    <style>
      html, body { margin: 0; height: 100%; }
      #overlay {
        position: fixed; inset: 0; display: grid; place-items: center;
        background: rgba(0,0,0,0.8); color: #fff; font-family: system-ui, sans-serif; z-index: 9999;
      }
      #startAR { font-size: 1.1rem; padding: 0.9rem 1.2rem; border: 0; border-radius: 12px; cursor: pointer; }
    </style>
    <script type="module" src="main.js"></script>
    <script type="module" src="stroke-geometry.js"></script>
    <script type="module" src="components/mx-ink-brush.js"></script>
    <script type="module" src="systems/mx-ink-brush.js"></script>
  </head>
  <body>
    <div id="overlay"><button id="startAR">Tap to start AR</button></div>

    <a-scene
      xr-mode-ui="XRMode: ar"
      webxr="optionalFeatures: dom-overlay; overlayElement: #overlay"
      renderer="colorManagement: true"
    >
      <!-- MX Ink stylus using built-in component -->
      <a-entity 
        id="mxink-controller-right"
        logitech-mx-ink-controls="hand: right; model: true"
        mx-ink-brush="hand: right">
      </a-entity>
      
      <a-entity 
        id="mxink-controller-left"
        logitech-mx-ink-controls="hand: left; model: true"
        mx-ink-brush="hand: left">
      </a-entity>
      
      <!-- Visual reference elements -->
      <!-- <a-box position="0 1 -0.5" scale="0.1 0.1 0.1" color="#FFCC00" shadow></a-box>-->
      
      <!-- Grid for spatial reference -->
      <!-- <a-grid position="0 0 0" rotation="-90 0 0" width="4" height="4" color="#444444"></a-grid>-->

      <!-- Lights -->
      <a-entity light="type: directional; intensity: 0.9" position="0 3 1"></a-entity>
      <a-entity light="type: ambient; intensity: 0.3"></a-entity>
      
    </a-scene>
  </body>
</html>
